<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<title>富饶之国 - 游戏大厅</title>
<script type="text/javascript" src="/#{registerAction.gameName}/js/jquery.min.js" />
<script type="text/javascript">
<!--
	function renderTables(tables) {
		//var tables = getAllTables();
		
		if (!tables) {
			return;
		}

		var gameHall = $("#gameHall")[0];

		if (!gameHall) {
			alert("Element gameHall is not found !");
			return;
		}

		var innerHTML = "<table width=\"100%\">";
		var i = 0;

		while (i < tables.length) {
			innerHTML += "<tr>";

			for ( var j = 0; j < 5 && i < tables.length; ++j, ++i) {
				innerHTML += "<td><img src=\"/#{baseAction.gameName}/img/table.png\"/></td>";
			}

			innerHTML += "</tr>";
		}

		innerHTML += "</table>";
		gameHall.innerHTML = innerHTML;
	};

	setInterval(function() {
		$.getJSON("/#{baseAction.gameName}/execute", {
			"command" : "getAllTables"
		}, renderTables)

	}, 5000);
//-->
</script>

</head>

<body style="background-color: Black">

	<div id="content" style="width: 1200px; height: 650px; margin: auto; background-color: Gray; color: White">

		<div id="header" style="width: 98%;">
			<span style="text-align: left">富饶之国 - 游戏大厅</span><input type="button"></input> <span style="float: right; text-align: right"><a
				href="/#{baseAction.gameName}/login.jsf">登出</a> </span>
		</div>

		<div id="gameHall" style="width: 1190; height: 600px; border-width: 1px; border-color: White; border-style: solid; padding: 5px; margin: 5px 5px 5px 5px">

		</div>

	</div>

</body>

</html>